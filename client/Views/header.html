<link rel="stylesheet" type="text/css" href="res/css/header.css">

<script>
function openNav() {
    document.getElementById("mySidenav").style.width = "250px";
    document.getElementById("main").style.marginLeft = "250px";
    document.getElementById("arrow").style.display = "none";
}

function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
    document.getElementById("main").style.marginLeft= "0";
    document.getElementById("arrow").style.display = "block";
}
</script>	

<div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  <a href="#">Change Password</a>
  <a href="" id="logout">Logout</a>
  <a href="/charts" id="logout">Analysis</a>
  <!-- <a href="#">Clients</a>
  <a href="#">Contact</a> -->
</div>

<script>
   $("#logout").click(function logout(){
    var access_token = window.location.search.substring(1);
    var url = '/logout?' + access_token
    alert(url)
    $.ajax({
            method: 'POST',
            url : '/api/Users/logout?' + access_token, // or whatever
            dataType : 'json',
            success : function (response) {
                alert("LOGOUT")
                // var app = angular.module('my_app', []);
                // app.controller('myCtrl', function($scope, $http) {
                //   $http.get('/api/gym_users/findOne?filter[where][registration_number]=' + reg_number + '&' + access_token)
                //   .then(function(response) {
                //       $scope.myWelcome = response.data;
                //   });
                // });
                window.location.replace('/');
            },
            error: function (response) {
                alert("Authentication Timed Out")
                // setTimeout(function() { window.location.reload(true); }, 2000)
            },
        });
    
  });
</script>

<!-- Use any element to open the sidenav -->

<span onclick="openNav()"><i class="fa fa-angle-right" id="arrow" aria-hidden="true" style="font-size: 50px; color: white"></i></span>
