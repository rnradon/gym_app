<!DOCTYPE html>
<html ng-app="myApp" lang="en">

<head>
    <base href="/">
    <meta name="fragment" content="!">
    <meta charset="UTF-8">
    <title>User Registration</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link rel="shortcut icon" type="image/png" href="{%  static 'favicon.ico' %}"/> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link href='https://fonts.googleapis.com/css?family=Satisfy' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="res/register_user/base.css"/>
    <link rel="icon" href="favicon.ico" type="image/gif" sizes="16x16">
    <script src="https://cdn.jsdelivr.net/jquery.form/4.2.1/jquery.form.min.js" integrity="sha384-tIwI8+qJdZBtYYCKwRkjxBGQVZS3gGozr3CtI+5JF/oL1JmPEHzCEnIKbDbLTCer" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <link rel="icon" href="/static/img/favicon.ico" sizes="48x48" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular-animate.min.js"></script>
  	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular-route.min.js"></script>
  	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular-resource.min.js"></script>
    <script src="js/services/lb-services.js"></script>

<!--     <link href="res/select2/dist/css/select2.min.css" rel="stylesheet" /> -->


</head>
<body style="background-color: #353e4f;">

<div class="container"> 
<div class="row">
<div class="col-md-3 col-sm-0 col-xs-0"></div>
<div class="col-md-3 col-sm-0 col-xs-0"></div><br/>
<div class="col-md-6 col-sm-12" id = "success" style="color: white;font-size: 13px;background-color: #4caf50;border-radius: 5px; display: none; width: 90%; text-align: center; margin-left: 5%;">
  Credentials Submitted Successfully. Page will automatically reload now !
</div> 
</div>
</div>
<div class="container"> 
<div class="row">
<div class="col-md-4 col-sm-0 col-xs-0"></div>
<div class="col-md-4 col-sm-0 col-xs-0"></div><br/>
<div class="col-md-6 col-sm-12" id = "error" style="color: white;font-size: 13px;background-color: #af4c4c;border-radius: 5px; display: none; width: 90%; text-align: center; margin-left: 5%;">
  User Already Exists / Enter the Correct Details !
</div> 
</div>
</div>

<div class="container" id="main_form"> 

<!-- <iframe width="0" height="0" border="0" name="dummyframe" id="dummyframe" style="display: none;"></iframe> -->
  <div id="contact" style="margin-top: 30%; margin-bottom: 0%">
    <h3>Gym User Registration</h3>
    <h4>Fill the User form below</h4>
    <a href="/test.html"><button name="submit" type="submit" id="contact-submit" style="background-color: #4c96af; margin-bottom: 3%">Back</button></a>
    <form id = "myForm" action="/api/gym_users" method="post" target="dummyframe">
    <fieldset>
      <input placeholder="Registration Number" type="number" tabindex="1" required autofocus name="registration_number" style="width: 100%; padding-left: 10px;">
    </fieldset>
    <fieldset>
      <input placeholder="Re Enter Registration Number" type="number" tabindex="2" required name="username" style="width: 100%; padding-left: 10px; ">
    </fieldset>
    <fieldset>
      <input placeholder="Name" type="text" tabindex="3" required name="name">
    </fieldset>
    <fieldset>
      <input placeholder="Address" type="text" tabindex="4" required name="address">
    </fieldset>
    <fieldset>
      <input placeholder="Email" type="email" tabindex="5" required name="email">
    </fieldset>
    <fieldset>
      <div class="row">
      <div class="col-md-1 col-sm-1 col-xs-1" style="border: 1px solid #ccc; background: #f0f0f0; margin-left:15px; padding: 0.9%;">+91</div>
      <div class="col-md-1 col-sm-1 col-xs-1" style="padding:0px;margin: 1%;margin-right: -15px;margin-left: 10px;">-</div>
      <div class="col-md-9 col-sm-9 col-xs-9" style="padding: 0px;width: 76%">
      <input  placeholder="Phone Number" type="tel" pattern="[789][0-9]{9}" tabindex="6" required name="phone_number" style="width: 100%;">
      </div>
      </div>
    </fieldset>
    <fieldset>
      <div class="row">
      <div class="col-md-1 col-sm-1 col-xs-1" style="border: 1px solid #ccc; background: #f0f0f0; margin-left:15px; padding: 0.9%;">+91</div>
      <div class="col-md-1 col-sm-1 col-xs-1" style="padding:0px;margin: 1%;margin-right: -15px;margin-left: 10px;">-</div>
      <div class="col-md-9 col-sm-9 col-xs-9" style="padding: 0px;width: 76%">
      <input  placeholder="Re Enter Phone Number" type="tel" pattern="[789][0-9]{9}" tabindex="7" required name="password" style="width: 100%;">
      </div>
      </div>
    </fieldset>
    
      <button name="submit" type="submit" id="contact-submit">Submit</button>
      <script>

      $('#myForm')
      .ajaxForm({
        url : '/api/gym_users', // or whatever
        dataType : 'json',
        success : function (response) {
            document.getElementById("success").style.display = "block";
            $('#success').delay(4000).fadeOut(300);
            var resp = response.responseText
            console.log(resp)
            // location.delay(2000).reload();
             setTimeout(function() { window.location.reload(true); }, 2000)
        },
        error: function (response) {
            document.getElementById("error").style.display = "block";
            $('#error').delay(4000).fadeOut(300);
            var resp = response.responseText
            console.log(resp)
        },
    });
      </script>
    
</div>
</body>
</html>
 <!-- <script>
  function onBodyLoad () {
    plugin.init();
  }
  window.addEventListener('load', onBodyLoad);
</script>

 -->

